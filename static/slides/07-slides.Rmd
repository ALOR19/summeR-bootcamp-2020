---
title: "Data Wrangling with {dplyr}"
author: 
date: 
output:
  xaringan::moon_reader:
    css: [xaringan-themer.css, "assets/css/custom.css"]
    seal: false
    lib_dir: libs
  nature:
    highlightStyle: github
    highlightLines: true
    countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(countdown)
library(tidyverse)
library(palmerpenguins)

xaringanExtra::use_xaringan_extra(include = c("panelset", "tile_view", "share_again"))
xaringanExtra::style_share_again(share_buttons = c("twitter", "linkedin", "pocket"))

# your turn counter
yt_counter <- 0
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_mono_accent(base_color = "#23395b",
                text_font_google = google_font("Montserrat", "300", "300i"),
                code_font_google = google_font("Source Code Pro"),
                link_color = "#BA8800",
                code_inline_color = "#BA8800")
```

class: title-slide, center, middle

# Data Wrangling with {dplyr}

---
background-image: url(images/hex/tidyverse.png)
background-position: 90% 5%
background-size: 10%

# tidyverse 

packages are designed to be like grammars for their task, so weâ€™ll be using terms like verbs to discuss the tidyverse. The idea is that you can string these grammatical elements together to form more complex statements, just like with language.

The first argument of (basically) every function is data. This is very handy, especially when it comes to piping (discussed below).

Variable names are usually not quoted.

---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# dplyr

`dplyr` is a grammar of data manipulation, providing a consistent set of core verbs that help you solve the most common data manipulation challenges

--

**Manipulating observations**

+ `filter()` picks cases based on their values.

+ `arrange()` changes the ordering of the rows.

--
***

**Manipulating variables**

+ `select()` picks variables based on their names.

+ `mutate()` adds new variables that are functions of existing variables

--
***

**Summarizing data**

+ `summarise()` reduces multiple values down to a single summary.


.footnote[Source: [dplyr.tidyverse.org](https://dplyr.tidyverse.org/)]

---
background-image: url(images/hex/magrittr.png)
background-position: 90% 5%
background-size: 10%

# A review of pipes

`x %>% f(y)` is equivalent to `f(x, y)`

--
***

R Code 

```{r eval=FALSE}
penguins %>% 
  filter(species == "Gentoo") %>% 
  select(bill_length_mm, bill_depth_mm) %>% 
  arrange(desc(bill_length_mm))
```

--

Translated into English

```{r eval = FALSE, results='asis'}
start with penguins data AND THEN
  filter for only Gentoo penguins AND THEN
  select only the columns `bill_length_mm` and `bill_depth_mm` AND THEN
  arrange observations by descending order of `bill_length_mm`
```

--
***
Read more: [https://magrittr.tidyverse.org/reference/pipe.html](https://magrittr.tidyverse.org/reference/pipe.html)


---
# Concept Map: `%>%`

```{r echo=FALSE, out.width="90%"}
knitr::include_graphics("images/pipe-operator.png")
```

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# dplyr

---
class: inverse, center, middle

# Manipulating observations (rows)

---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# `filter()`

### Subset observations (rows) with `filter()`

```{r echo=FALSE}
knitr::include_graphics("images/dplyr/filter.png")
```

---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# `filter()`

---
class: inverse, center, middle

# Manipulating variables (columns)

---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# Column-wise operations

What if we want to apply `dplyr` verbs across multiple columns **simultaenously**? Check out these slides for more `r emo::ji("point_down")`

```{r echo=FALSE}
knitr::include_url("https://columnwise-operations-dplyr.netlify.app/")
```

.footnote[`r emo::ji("link")` [columnwise-operations-dplyr.netlify.app](https://columnwise-operations-dplyr.netlify.app/#1)]

---
class: inverse, center, middle

# Summarizing data


---

# Concept Map: `dplyr`

```{r echo=FALSE, out.width="90%"}
knitr::include_graphics("images/dplyr.png")
```

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `filter()`

```{r echo=FALSE, out.width="90%"}
knitr::include_graphics("images/filter.png")
```

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `select()`

```{r echo=FALSE, out.width="90%"}
knitr::include_graphics("images/select.png")
```

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `mutate()`

```{r echo=FALSE, out.width="90%"}
knitr::include_graphics("images/mutate.png")
```

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---

# Concept Map: `summarize()`

```{r echo=FALSE, out.width="90%"}
knitr::include_graphics("images/group_by-summarize.png")
```

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---


