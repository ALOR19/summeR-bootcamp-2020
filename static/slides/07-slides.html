<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data Wrangling with {dplyr}</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






class: title-slide, center, middle

# Data Wrangling with {dplyr}

---
background-image: url(images/hex/tidyverse.png)
background-position: 90% 5%
background-size: 10%

# tidyverse 

packages are designed to be like grammars for their task, so weâ€™ll be using terms like verbs to discuss the tidyverse. The idea is that you can string these grammatical elements together to form more complex statements, just like with language.

The first argument of (basically) every function is data. This is very handy, especially when it comes to piping (discussed below).

Variable names are usually not quoted.

---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# dplyr

`dplyr` is a grammar of data manipulation, providing a consistent set of core verbs that help you solve the most common data manipulation challenges

--

+ `mutate()` adds new variables that are functions of existing variables

+ `select()` picks variables based on their names.

+ `filter()` picks cases based on their values.

+ `summarise()` reduces multiple values down to a single summary.

+ `arrange()` changes the ordering of the rows.

.footnote[Source: [dplyr.tidyverse.org](https://dplyr.tidyverse.org/)]

---
# mutate()

---
background-image: url(images/hex/magrittr.png)
background-position: 90% 5%
background-size: 10%

# A review of pipes

`x %&gt;% f(y)` is equivalent to `f(x, y)`

--
***

R Code 


```r
penguins %&gt;% 
  filter(species == "Gentoo") %&gt;% 
  select(bill_length_mm, bill_depth_mm) %&gt;% 
  arrange(desc(bill_length_mm))
```

--

Translated into English


```r
start with penguins data AND THEN
  filter for only Gentoo penguins AND THEN
  select only the columns `bill_length_mm` and `bill_depth_mm` AND THEN
  arrange observations by descending order of `bill_length_mm`
```

--
***
Read more: [https://magrittr.tidyverse.org/reference/pipe.html](https://magrittr.tidyverse.org/reference/pipe.html)


---
background-image: url(images/hex/dplyr.png)
background-position: 90% 5%
background-size: 10%

# Column-wise operations

What if we want to apply `dplyr` verbs across multiple columns **simultaenously**? Check out these slides for more ðŸ‘‡

&lt;iframe src="https://columnwise-operations-dplyr.netlify.app/" width="100%" height="400px"&gt;&lt;/iframe&gt;

.footnote[ðŸ”— [columnwise-operations-dplyr.netlify.app](https://columnwise-operations-dplyr.netlify.app/#1)]
---

# Concept Map: `dplyr`

&lt;img src="images/dplyr.png" width="90%" /&gt;

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `filter()`

&lt;img src="images/filter.png" width="90%" /&gt;

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `select()`

&lt;img src="images/select.png" width="90%" /&gt;

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `mutate()`

&lt;img src="images/mutate.png" width="90%" /&gt;

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---

# Concept Map: `summarize()`

&lt;img src="images/group_by-summarize.png" width="90%" /&gt;

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]

---
# Concept Map: `%&gt;%`

&lt;img src="images/pipe-operator.png" width="90%" /&gt;

.footnote[Source: [rstudio/concept-maps](https://github.com/rstudio/concept-maps)]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
